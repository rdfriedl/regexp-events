/* regexp-events v1.0.0 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define("regexp-events",["exports"],e):e(t.RegExpEvents=t.RegExpEvents||{})}(this,function(t){"use strict";function e(t){var e=x.call(t,k),n=t[k];try{t[k]=void 0}catch(t){}var r=S.call(t);return e?t[k]=n:delete t[k],r}function n(t){return R.call(t)}function r(t){return null==t?void 0===t?T:q:F&&F in Object(t)?M(t):A(t)}function o(t){return null!=t&&"object"==typeof t}function i(t){return"string"==typeof t||!W(t)&&N(t)&&C(t)==_}function c(t,e,n){if(n)t.delete(e);else{var r=t.get(e);r.filter(function(t){return!t.isStatic}).forEach(function(t,e){r.splice(r.indexOf(t),1)}),0===r.length&&t.delete(e)}}function u(t,e){return t instanceof RegExp&&e instanceof RegExp&&e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode}function f(t){return!!t&&"object"==typeof t}function a(t){return"string"==typeof t||!K(t)&&f(t)&&J.call(t)==H}function s(t){var e=l(t)?Y.call(t):"";return e==Q||e==V}function l(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function p(t){return!0===t||!1===t}function h(t,e,n,r){for(var o=0;o<t.length-n;o++)if(e(t[n+o]))return t[n+o];return r}var v="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},y="object"==typeof v&&v&&v.Object===Object&&v,g=y,d="object"==typeof self&&self&&self.Object===Object&&self,b=g||d||Function("return this")(),E=b,m=E.Symbol,j=m,w=Object.prototype,x=w.hasOwnProperty,S=w.toString,k=j?j.toStringTag:void 0,M=e,O=Object.prototype,R=O.toString,A=n,q="[object Null]",T="[object Undefined]",F=j?j.toStringTag:void 0,C=r,P=Array.isArray,W=P,N=o,_="[object String]",G=i,U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},B=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),D=function t(e,n,r){if(z(this,t),!G(e))throw new Error("Event.type has to be a string");this.type=e,this.args=n||[],this.target=r},H="[object String]",I=Object.prototype,J=I.toString,K=Array.isArray,L=a,Q="[object Function]",V="[object GeneratorFunction]",X=Object.prototype,Y=X.toString,Z=s,$=function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t,e){function n(t){return r(t)&&h.call(t)==o}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var o="[object RegExp]",i="object"==typeof v&&v&&v.Object===Object&&v,c=e&&!e.nodeType&&e,u=c&&!0&&t&&!t.nodeType&&t,f=u&&u.exports===c,a=f&&i.process,s=function(){try{return a&&a.binding("util")}catch(t){}}(),l=s&&s.isRegExp,p=Object.prototype,h=p.toString,y=l?function(t){return function(e){return t(e)}}(l):n;t.exports=y}),tt=function(){function t(){z(this,t),this.suppressEvents=!1}return B(t,[{key:"on",value:function(e,n,r,o,i){if(!(L(e)||$(e)||e instanceof D))throw new Error("Emitter.on requires a String, Event or RegExp as the first argument");if(!Z(n))throw new Error("Emitter.on requires a function as the second argument");o=h(arguments,p,2,!1),i=h(arguments,function(t){return Number.isFinite(t)||t===1/0},2,1/0),r=h(arguments,function(t){return console.log(void 0===t?"undefined":U(t)),"object"===(void 0===t?"undefined":U(t))},2,void 0);var c=this.eventMap;return c||(c=t.createEventMap(this)),e instanceof D&&(e=e.type),c.has(e)||c.set(e,[]),c.get(e).push({func:n,ctx:r,times:i,isStatic:o}),this}},{key:"once",value:function(t,e,n,r){return this.on(t,e,1,n,r)}},{key:"off",value:function(t,e,n,r){if(null==t)throw new Error("Emitter.off requires a String or a RegExp as the first argument");if(!Z(e))throw new Error("Emitter.off requires a function as the second argument");r=h(arguments,p,2,!1),n=h(arguments,function(t){return"object"===(void 0===t?"undefined":U(t))},2,void 0),t instanceof D&&(t=t.type);var o=this.eventMap;if(!o)return this;if(o.has(t)||o.set(t,[]),L(t)){var i=o.get(t);i.forEach(function(t,o){t.func!==e||t.ctx!==n||t.isStatic&&!r||i.splice(o,1)}),0===i.length&&o.delete(t)}else $(t)&&o.forEach(function(i,c){$(c)&&u(t,c)&&(i.forEach(function(t,o){t.func!==e||t.ctx!==n||t.isStatic&&!r||i.splice(o,1)}),0===i.length&&o.delete(c))});return this}},{key:"emit",value:function(t){var e=this;if(!this.suppressEvents){var n=this.eventMap,r=void 0;if(!n)return this;for(var o=arguments.length,i=Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];if(t instanceof D)r=t,void 0===r.target&&(r.target=this);else{if(!L(t))throw new Error("Emitter.emit requires a String or Event as the first argument");r=new D(t,i,this)}var f=Array.from(r.args).concat([r]);return n.forEach(function(t,n){(L(r.type)&&n===r.type||L(r.type)&&$(n)&&n.test(r.type)||$(r.type)&&$(n)&&u(n,r.type))&&t.forEach(function(t){t.func.apply(t.ctx,f),--t.times<=0&&e.off(r.type,t.func,t.ctx,!0)})}),this}}},{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.eventMap;return r?(L(t)?c(r,t,e):t instanceof D?c(r,t.type,e):$(t)?Array.from(r).map(function(t){return t[0]}).forEach(function(o){(L(o)&&n&&t.test(o)||$(o)&&u(o,t))&&c(r,o,e)}):1===arguments.length&&!0===t?r.clear():(!1===t||void 0===t)&&arguments.length<=1&&r.forEach(function(t,e){t.filter(function(t){return!t.isStatic}).forEach(function(e){t.splice(t.indexOf(e),1)}),0===t.length&&r.delete(e)}),this):this}},{key:"count",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.eventMap;if(!n)return 0;if(L(t))return n.has(t)?n.get(t).length:0;if(t instanceof D)return n.has(t.type)?n.get(t.type).length:0;if($(t)){var r=0;return n.forEach(function(n,o){(L(o)&&e&&t.test(o)||$(o)&&u(o,t))&&(r+=n.length)}),r}var o=0;return n.forEach(function(t){o+=t.length}),o}},{key:"dispose",value:function(){return t.removeEventMap(this),this}},{key:"eventMap",get:function(){return t.getEventMap(this)}}],[{key:"getEventMap",value:function(t){return(this.events||(this.events=new WeakMap)).get(t)}},{key:"createEventMap",value:function(t){var e=this.events||(this.events=new WeakMap),n=new Map;return e.set(t,n),n}},{key:"removeEventMap",value:function(t){var e=this.events||(this.events=new WeakMap);e.has(t)&&e.delete(t)}}]),t}();t.Emitter=tt,t.Event=D,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=regexp-events.umd.min.js.map
