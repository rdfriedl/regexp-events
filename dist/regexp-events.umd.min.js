/* regexp-events v1.0.0 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define("regexp-events",["exports"],e):e(t.RegExpEvents={})}(this,function(t){"use strict";function e(t){return!!t&&"object"==typeof t}function n(t,e,n){if(n)t.delete(e);else{var r=t.get(e);r.filter(function(t){return!t.isStatic}).forEach(function(t,e){r.splice(r.indexOf(t),1)}),0===r.length&&t.delete(e)}}function r(t,e){return t instanceof RegExp&&e instanceof RegExp&&e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function o(t){return!0===t||!1===t}function u(t,e,n,r){for(var i=0;i<t.length-n;i++)if(e(t[n+i]))return t[n+i];return r}var f="[object String]",c=Object.prototype.toString,a=Array.isArray,s=function(t){return"string"==typeof t||!a(t)&&e(t)&&c.call(t)==f},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function t(e,n,r){if(l(this,t),!s(e))throw new Error("Event.type has to be a string");this.type=e,this.args=n||[],this.target=r},y="[object Function]",g="[object GeneratorFunction]",d=Object.prototype.toString,E=function(t){var e=i(t)?d.call(t):"";return e==y||e==g},b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},m=function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var r="[object RegExp]",i="object"==typeof b&&b&&b.Object===Object&&b,o=e&&!e.nodeType&&e,u=o&&!0&&t&&!t.nodeType&&t,f=u&&u.exports===o&&i.process,c=function(){try{return f&&f.binding("util")}catch(t){}}(),a=c&&c.isRegExp,s=Object.prototype.toString,p=a?function(t){return function(e){return t(e)}}(a):function(t){return n(t)&&s.call(t)==r};t.exports=p}),w=function(){function t(){l(this,t),this.suppressEvents=!1}return h(t,[{key:"on",value:function(e,n,r,i,f){if(!(s(e)||m(e)||e instanceof v))throw new Error("Emitter.on requires a String, Event or RegExp as the first argument");if(!E(n))throw new Error("Emitter.on requires a function as the second argument");i=u(arguments,o,2,!1),f=u(arguments,function(t){return Number.isFinite(t)||t===1/0},2,1/0),r=u(arguments,function(t){return"object"===(void 0===t?"undefined":p(t))},2,void 0);var c=this.eventMap;return c||(c=t.createEventMap(this)),e instanceof v&&(e=e.type),c.has(e)||c.set(e,[]),c.get(e).push({func:n,ctx:r,times:f,isStatic:i}),this}},{key:"once",value:function(t,e,n,r){return this.on(t,e,1,n,r)}},{key:"off",value:function(t,e,n,i){if(null==t)throw new Error("Emitter.off requires a String or a RegExp as the first argument");if(!E(e))throw new Error("Emitter.off requires a function as the second argument");i=u(arguments,o,2,!1),n=u(arguments,function(t){return"object"===(void 0===t?"undefined":p(t))},2,void 0),t instanceof v&&(t=t.type);var f=this.eventMap;if(!f)return this;if(f.has(t)||f.set(t,[]),s(t)){var c=f.get(t);c.forEach(function(t,r){t.func!==e||t.ctx!==n||t.isStatic&&!i||c.splice(r,1)}),0===c.length&&f.delete(t)}else m(t)&&f.forEach(function(o,u){m(u)&&r(t,u)&&(o.forEach(function(t,r){t.func!==e||t.ctx!==n||t.isStatic&&!i||o.splice(r,1)}),0===o.length&&f.delete(u))});return this}},{key:"emit",value:function(t){var e=this;if(!this.suppressEvents){var n=this.eventMap,i=void 0;if(!n)return this;for(var o=arguments.length,u=Array(o>1?o-1:0),f=1;f<o;f++)u[f-1]=arguments[f];if(t instanceof v)void 0===(i=t).target&&(i.target=this);else{if(!s(t))throw new Error("Emitter.emit requires a String or Event as the first argument");i=new v(t,u,this)}var c=Array.from(i.args).concat([i]);return n.forEach(function(t,n){(s(i.type)&&n===i.type||s(i.type)&&m(n)&&n.test(i.type)||m(i.type)&&m(n)&&r(n,i.type))&&t.forEach(function(t){t.func.apply(t.ctx,c),--t.times<=0&&e.off(i.type,t.func,t.ctx,!0)})}),this}}},{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.eventMap;return o?(s(t)?n(o,t,e):t instanceof v?n(o,t.type,e):m(t)?Array.from(o).map(function(t){return t[0]}).forEach(function(u){(s(u)&&i&&t.test(u)||m(u)&&r(u,t))&&n(o,u,e)}):1===arguments.length&&!0===t?o.clear():(!1===t||void 0===t)&&arguments.length<=1&&o.forEach(function(t,e){t.filter(function(t){return!t.isStatic}).forEach(function(e){t.splice(t.indexOf(e),1)}),0===t.length&&o.delete(e)}),this):this}},{key:"count",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.eventMap;if(!n)return 0;if(s(t))return n.has(t)?n.get(t).length:0;if(t instanceof v)return n.has(t.type)?n.get(t.type).length:0;if(m(t)){var i=0;return n.forEach(function(n,o){(s(o)&&e&&t.test(o)||m(o)&&r(o,t))&&(i+=n.length)}),i}var o=0;return n.forEach(function(t){o+=t.length}),o}},{key:"dispose",value:function(){return t.removeEventMap(this),this}},{key:"eventMap",get:function(){return t.getEventMap(this)}}],[{key:"getEventMap",value:function(t){return(this.events||(this.events=new WeakMap)).get(t)}},{key:"createEventMap",value:function(t){var e=this.events||(this.events=new WeakMap),n=new Map;return e.set(t,n),n}},{key:"removeEventMap",value:function(t){var e=this.events||(this.events=new WeakMap);e.has(t)&&e.delete(t)}}]),t}();t.Emitter=w,t.Event=v,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=regexp-events.umd.min.js.map
