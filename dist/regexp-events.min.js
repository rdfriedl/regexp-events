/* regexp-events v1.0.0 */
"use strict";function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}function getRawTag(e){var t=hasOwnProperty.call(e,symToStringTag$1),n=e[symToStringTag$1];try{e[symToStringTag$1]=void 0}catch(e){}var r=nativeObjectToString.call(e);return t?e[symToStringTag$1]=n:delete e[symToStringTag$1],r}function objectToString(e){return nativeObjectToString$1.call(e)}function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?_getRawTag(e):_objectToString(e)}function isObjectLike(e){return null!=e&&"object"==typeof e}function isString(e){return"string"==typeof e||!isArray_1(e)&&isObjectLike_1(e)&&_baseGetTag(e)==stringTag}function clearListeners(e,t,n){if(n)e.delete(t);else{var r=e.get(t);r.filter(function(e){return!e.isStatic}).forEach(function(e,t){r.splice(r.indexOf(e),1)}),0===r.length&&e.delete(t)}}function isRegExpEqual(e,t){return e instanceof RegExp&&t instanceof RegExp&&t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode}function isObjectLike$2(e){return!!e&&"object"==typeof e}function isString$2(e){return"string"==typeof e||!isArray$2(e)&&isObjectLike$2(e)&&objectToString$2.call(e)==stringTag$1}function isFunction(e){var t=isObject(e)?objectToString$3.call(e):"";return t==funcTag||t==genTag}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isBoolean(e){return!0===e||!1===e}function findInArgArray(e,t,n,r){for(var o=0;o<e.length-n;o++)if(t(e[n+o]))return e[n+o];return r}Object.defineProperty(exports,"__esModule",{value:!0});var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=_freeGlobal||freeSelf||Function("return this")(),_root=root,Symbol$1=_root.Symbol,_Symbol=Symbol$1,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag$1=_Symbol?_Symbol.toStringTag:void 0,_getRawTag=getRawTag,objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString,_objectToString=objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=_Symbol?_Symbol.toStringTag:void 0,_baseGetTag=baseGetTag,isArray=Array.isArray,isArray_1=isArray,isObjectLike_1=isObjectLike,stringTag="[object String]",isstring=isString,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Event=function e(t,n,r){if(classCallCheck(this,e),!isstring(t))throw new Error("Event.type has to be a string");this.type=t,this.args=n||[],this.target=r},stringTag$1="[object String]",objectProto$2=Object.prototype,objectToString$2=objectProto$2.toString,isArray$2=Array.isArray,index=isString$2,funcTag="[object Function]",genTag="[object GeneratorFunction]",objectProto$3=Object.prototype,objectToString$3=objectProto$3.toString,index$1=isFunction,index$2=createCommonjsModule(function(e,t){function n(e){return r(e)&&y.call(e)==o}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var o="[object RegExp]",i="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,a=t&&!t.nodeType&&t,c=a&&!0&&e&&!e.nodeType&&e,s=c&&c.exports===a,u=s&&i.process,f=function(){try{return u&&u.binding("util")}catch(e){}}(),l=f&&f.isRegExp,g=Object.prototype,y=g.toString,p=l?function(e){return function(t){return e(t)}}(l):n;e.exports=p}),Emitter=function(){function e(){classCallCheck(this,e),this.suppressEvents=!1}return createClass(e,[{key:"on",value:function(t,n,r,o,i){if(!(index(t)||index$2(t)||t instanceof Event))throw new Error("Emitter.on requires a String, Event or RegExp as the first argument");if(!index$1(n))throw new Error("Emitter.on requires a function as the second argument");o=findInArgArray(arguments,isBoolean,2,!1),i=findInArgArray(arguments,function(e){return Number.isFinite(e)||e===1/0},2,1/0),r=findInArgArray(arguments,function(e){return console.log(void 0===e?"undefined":_typeof(e)),"object"===(void 0===e?"undefined":_typeof(e))},2,void 0);var a=this.eventMap;return a||(a=e.createEventMap(this)),t instanceof Event&&(t=t.type),a.has(t)||a.set(t,[]),a.get(t).push({func:n,ctx:r,times:i,isStatic:o}),this}},{key:"once",value:function(e,t,n,r){return this.on(e,t,1,n,r)}},{key:"off",value:function(e,t,n,r){if(null==e)throw new Error("Emitter.off requires a String or a RegExp as the first argument");if(!index$1(t))throw new Error("Emitter.off requires a function as the second argument");r=findInArgArray(arguments,isBoolean,2,!1),n=findInArgArray(arguments,function(e){return"object"===(void 0===e?"undefined":_typeof(e))},2,void 0),e instanceof Event&&(e=e.type);var o=this.eventMap;if(!o)return this;if(o.has(e)||o.set(e,[]),index(e)){var i=o.get(e);i.forEach(function(e,o){e.func!==t||e.ctx!==n||e.isStatic&&!r||i.splice(o,1)}),0===i.length&&o.delete(e)}else index$2(e)&&o.forEach(function(i,a){index$2(a)&&isRegExpEqual(e,a)&&(i.forEach(function(e,o){e.func!==t||e.ctx!==n||e.isStatic&&!r||i.splice(o,1)}),0===i.length&&o.delete(a))});return this}},{key:"emit",value:function(e){var t=this;if(!this.suppressEvents){var n=this.eventMap,r=void 0;if(!n)return this;for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(e instanceof Event)r=e,void 0===r.target&&(r.target=this);else{if(!index(e))throw new Error("Emitter.emit requires a String or Event as the first argument");r=new Event(e,i,this)}var c=Array.from(r.args).concat([r]);return n.forEach(function(e,n){(index(r.type)&&n===r.type||index(r.type)&&index$2(n)&&n.test(r.type)||index$2(r.type)&&index$2(n)&&isRegExpEqual(n,r.type))&&e.forEach(function(e){e.func.apply(e.ctx,c),--e.times<=0&&t.off(r.type,e.func,e.ctx,!0)})}),this}}},{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.eventMap;return r?(index(e)?clearListeners(r,e,t):e instanceof Event?clearListeners(r,e.type,t):index$2(e)?Array.from(r).map(function(e){return e[0]}).forEach(function(o){(index(o)&&n&&e.test(o)||index$2(o)&&isRegExpEqual(o,e))&&clearListeners(r,o,t)}):1===arguments.length&&!0===e?r.clear():(!1===e||void 0===e)&&arguments.length<=1&&r.forEach(function(e,t){e.filter(function(e){return!e.isStatic}).forEach(function(t){e.splice(e.indexOf(t),1)}),0===e.length&&r.delete(t)}),this):this}},{key:"count",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.eventMap;if(!n)return 0;if(index(e))return n.has(e)?n.get(e).length:0;if(e instanceof Event)return n.has(e.type)?n.get(e.type).length:0;if(index$2(e)){var r=0;return n.forEach(function(n,o){(index(o)&&t&&e.test(o)||index$2(o)&&isRegExpEqual(o,e))&&(r+=n.length)}),r}var o=0;return n.forEach(function(e){o+=e.length}),o}},{key:"dispose",value:function(){return e.removeEventMap(this),this}},{key:"eventMap",get:function(){return e.getEventMap(this)}}],[{key:"getEventMap",value:function(e){return(this.events||(this.events=new WeakMap)).get(e)}},{key:"createEventMap",value:function(e){var t=this.events||(this.events=new WeakMap),n=new Map;return t.set(e,n),n}},{key:"removeEventMap",value:function(e){var t=this.events||(this.events=new WeakMap);t.has(e)&&t.delete(e)}}]),e}();exports.Emitter=Emitter,exports.Event=Event;
//# sourceMappingURL=regexp-events.min.js.map
